<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Webpack App</title>
    </head>
    <body style="width: 100vw; height: 100vh;">
        <div id="board" style="width: 100%; height: 100%;">

        </div>


<!--         <img> -->
<!--             <svg id="workspace" viewBox="0 0 600 680" style="width: 100%; height: 100%;"> -->
<!--             </svg> -->
<!--         </img> -->

    </body>
    <script>
        var app = new AdminBoardApplication();

        app.configure({
            containerId: "board",
        });

        app.run();

        app.bb.switchSpareFilters(true);

        $(document).ready(() => {
            app.onChange((data) => {
                // console.log("ONCHNG", data);
            });

            let weight = 0;
            let iter = 0;

            let threads = [
                                // {from: {x: 0, y: 0}, to: {x: 5, y: 0}, weight: weight},
                                {from: {x: 5, y: 0}, to: {x: 5, y: 1}, weight: 0.5},
                                {from: {x: 5, y: 1}, to: {x: 0, y: 1}, weight: 0},
                                {from: {x: 0, y: 1}, to: {x: 0, y: 2}, weight: 1},
                                {from: {x: 0, y: 2}, to: {x: 5, y: 2}, weight: 1},
                                {from: {x: 5, y: 2}, to: {x: 5, y: 3}, weight: 1},
                                {from: {x: 5, y: 3}, to: {x: 0, y: 3}, weight: 1},
                            ];

            // setInterval(() => {
                weight += 0.05;
                if (weight > 1) weight = 0;

                iter++;

                let xplate = (iter % 2) ? {type: 'resistor', x: 2, y: 2, orientation: 'west'} : undefined;

                // if (iter === 5 || iter === 15 || iter === 25 || iter === 35) {
                //     threads.push({
                //         from: {x: 7, y: 3}, to: {x: 7, y: 7}, weight: 1
                //     });
                // }

                // if (iter === 10 || iter === 20 || iter === 30 || iter === 40) {
                //     threads.pop();
                // }

                app.setData(
                    [
                        {type: 'strip', x: 4, y: 4, orientation: 'west', extra: 5, id: 100},
                        xplate
                    ],
                    {threads},
                );
            // }, 1000);
        });
    </script>
</html>
