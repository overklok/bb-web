<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tapanda Monitor Web</title>
</head>
<body style="width: 100vw; height: 100vh; margin: 0;">
<div id="version"
     style="font-size: 10px; font-family: 'IBM Plex Sans', monospace; position:absolute; bottom: 0; z-index: 1; background-color: aquamarine;"></div>
<div id="board" style="width: 100%; height: 100%;"></div>

<script type="text/javascript" src="board.js"></script>

<script>
    window.app = new BoardApplication({
        readonly: false,
        layout_name: 'v8x',
        silent: false,
        verbose: true,
    });
    window.app.run(document.getElementById('board'));
    document.getElementById("version").innerText = window.app.version;

    let i = 0;

    window.app.bb.setElectronics({
        threads: [
            {from: {x: 0, y: 1}, to: {x: 0, y: 5}, weight: 0.5},
            {from: {x: 1, y: 1}, to: {x: 1, y: 5}, weight: 0.2},
            {from: {x: 2, y: 1}, to: {x: 2, y: 5}, weight: 0.1},
        ]
    });

    // setInterval(() => {
    //     if (i % 5) {
    //         window.app.bb.setElectronics({threads: [
    //             {"from": {"x": -1, "y": 0}, "to": {"x": 1, "y": 0}, "weight": 0.2},//"2.00E-08"}, 
    //         ], elements: [], arduino_pins: []});
    //     } else {
    //         window.app.bb.setElectronics({
    //             threads: [
    //                 {"from": {"x": -1, "y": 0}, "to": {"x": 1, "y": 0}, "weight": 0.45}, 
    //                 // {"from": {"x": -1, "y": 0}, "to": {"x": 1, "y": 0}, "weight": 0.9},
    //                 // {"from": {"x": 1, "y": 6}, "to": {"x": 1, "y": 7}, "weight": 0.9},
    //                 // {"from": {"x": 1, "y": 6}, "to": {"x": 1, "y": 9}, "weight": 0.9},
    //                 // {"from": {"x": 1, "y": 10}, "to": {"x": 1, "y": 14}, "weight": 0.9},
    //                 // {"from": {"x": 1, "y": 15}, "to": {"x": -1, "y": 15}, "weight": 0.9}
    //             ],
    //             elements: [],
    //             arduino_pins: [],
    //         });
    //     }

    //     i += 1;
    // }, 100);

    //  setInterval(() => {
        //  window.app.bb.setPlates([
            //   {position: {cell: {x: 0, y: 0}, orientation: 'west'}, type: 'switch', dynamic: {input: 0}},
            //   {position: {cell: {x: 0, y: 2}, orientation: 'west'}, type: 'switch', dynamic: {input: 1}},
    //         // {position: {cell: {x: 0, y: 1}, orientation: 'west'}, type: 'rgb', properties: {inv: 1}},
    //          {position: {cell: {x: 0, y: 5}, orientation: 'north'}, type: 'bridge'},
    //          {position: {cell: {x: 0, y: 9}, orientation: 'north'}, type: 'bridge'},
    //          {position: {cell: {x: 0, y: 14}, orientation: 'north'}, type: 'bridge'}
        //  ]);
    //  }, 1000);
</script>
</body>
</html>
